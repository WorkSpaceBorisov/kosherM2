<?php
use Magento\Framework\App\Action\Action;

/** @var \Magento\CatalogWidget\Block\Product\ProductsList $block */
/**
 * @var $escaper \Magento\Framework\Escaper
 */
// phpcs:disable Generic.Files.LineLength.TooLong
// phpcs:disable Magento2.Templates.ThisInTemplate.FoundHelper
?>
<?php if ($exist = ($block->getProductCollection() && $block->getProductCollection()->getSize())): ?>
    <?php
    $type = 'widget-product-grid';

    $mode = 'grid';

    $image = 'new_products_content_widget_grid';
    $items = $block->getProductCollection()->getItems();

    $showWishlist = true;
    $showCompare = true;
    $showCart = true;
    $templateType = \Magento\Catalog\Block\Product\ReviewRendererInterface::SHORT_VIEW;
    $description = false;
    ?>
    <div class="block-products-list grid-slider">
        <!--  gridslider 44    -->
        <div class="block-content">
            <?= /* @noEscape */
            '<!-- ' . $image . '-->' ?>
            <div class="products-grid">
                <ol class="product-items products widget-product-grid">
                    <?php $iterator = 1; ?>
                    <?php foreach ($items as $_item): ?>
                        <?= /* @noEscape */
                        ($iterator++ == 1) ? '<li class="product-item">' : '</li><li class="product-item">' ?>
                        <div class="product-item-info">

                            <!-- Label left -->

                            <div class="product-item__label-left-container">
                                <?php if ($_item->getData('special_price')): ?>
                                    <div class="product-item__label-left sale">
                                        <span><?= $escaper->escapeHtml(__('Sale')) ?></span>
                                    </div>
                                <?php endif; ?>
                                
                                <?php if ($_item->getData('news_from_date')): ?>
                                    <div class="product-item__label-left new">
                                        <span><?= $escaper->escapeHtml(__('New')) ?></span>
                                    </div>
                                <?php endif; ?>
                            </div>

                            <!-- Photo -->
                            <div class="product-item-photo-outer">
                                <a href="<?= $block->escapeUrl($block->getProductUrl($_item)) ?>" class="product-item-photo">
                                    <?= $block->getImage($_item, $image)->toHtml() ?>
                                </a>
                            </div>

                            <?php
                                $isBio = $_item->getData('bio_attribute') && $_item->getData('bio_attribute') !== 'no_selection';
                                $sugarFree = $_item->getData('sugar_free') && $_item->getData('sugar_free') !== 'no_selection';
                                $glutenFree = $_item->getData('gluten_free') && $_item->getData('gluten_free') !== 'no_selection';
                            ?>

                            <div class="product-image-right-labels">
                                <?php if ($isBio): ?>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 57 24" width="57" height="24" fill="none"><g fill="#2A9F47" clip-path="url(#a)"><path d="M3.638 11.104c1.237 1.762 4.167 2.008 5.477 1.911-.585-4.819-3.261-6.522-4.307-7.477 2.885.955 4.307 3.988 4.683 5.15.126-2.326.627-2.783.878-3.364C8.404 2.713 1.338 3.004 0 3.004c1.254 1.37 2.09 5.898 3.638 8.1ZM10.537 20.25H9.115c.098-.83.635-3 1.547-5.615-.71-2.326-.503-6.896 2.843-9.347 3.347-2.45 8.53-2.284 10.495-2.284-.803.698-1.784 3.835-2.174 5.317-.446 1.343-1.74 4.362-3.345 5.691-2.007 1.662-4.641 1.495-5.937 1.495.25-5.15 3.846-7.892 5.393-9.305-5.62 2.56-7.47 11.182-7.4 14.048Z"/></g><path fill="#2A9F47" d="M27.291 19V5.91h5.012c.946 0 1.732.148 2.358.447.63.294 1.102.696 1.413 1.208.315.511.473 1.09.473 1.738 0 .533-.102.989-.307 1.368a2.58 2.58 0 0 1-.825.914 3.49 3.49 0 0 1-1.157.505v.128c.465.026.91.168 1.336.428.43.256.782.618 1.055 1.087.273.469.41 1.035.41 1.7 0 .678-.165 1.287-.493 1.828-.328.537-.822.961-1.483 1.272-.66.311-1.491.467-2.493.467h-5.299Zm2.372-1.982h2.55c.86 0 1.48-.164 1.86-.492.384-.332.575-.758.575-1.278a1.957 1.957 0 0 0-1.105-1.79c-.354-.183-.776-.275-1.266-.275h-2.614v3.835Zm0-5.541h2.345c.41 0 .778-.075 1.106-.224.329-.154.586-.369.774-.646.192-.281.287-.613.287-.997 0-.507-.179-.925-.536-1.253-.354-.328-.88-.492-1.58-.492h-2.396v3.612ZM41.52 5.909V19h-2.372V5.91h2.372Zm14.292 6.545c0 1.411-.264 2.62-.792 3.625-.525 1.001-1.24 1.768-2.148 2.301-.904.533-1.928.799-3.075.799-1.146 0-2.173-.266-3.08-.799-.904-.537-1.62-1.306-2.148-2.308-.525-1.005-.787-2.211-.787-3.617 0-1.411.262-2.617.787-3.618.528-1.006 1.244-1.775 2.147-2.308.908-.533 1.935-.799 3.081-.799 1.147 0 2.171.266 3.075.8.907.532 1.623 1.301 2.148 2.307.528 1.001.792 2.207.792 3.617Zm-2.384 0c0-.992-.156-1.83-.467-2.512-.306-.686-.733-1.203-1.278-1.553-.545-.353-1.174-.53-1.886-.53-.711 0-1.34.177-1.885.53-.546.35-.974.867-1.285 1.553-.307.682-.46 1.52-.46 2.512 0 .993.153 1.833.46 2.519.31.682.74 1.2 1.285 1.553.545.35 1.174.524 1.885.524.712 0 1.34-.174 1.886-.524.545-.353.971-.871 1.278-1.553.311-.686.467-1.526.467-2.519Z"/><defs><clipPath id="a"><path fill="#fff" d="M0 0h24v24H0z"/></clipPath></defs></svg>
                                <?php endif; ?>
                                <?php if ($sugarFree): ?>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 24" width="50" height="24" fill="none"><g clip-path="url(#a)"><g clip-path="url(#b)"><path fill="#C70" d="M13.566.805c-1.516.41-2.467.713-2.855.909-.388.196-.582.32-.582.374 0 .054.714.802 2.142 2.245 1.427 1.443 2.29 2.244 2.59 2.405.3.16.652.25 1.057.267.405.018 1.586-.24 3.542-.775l2.934-.802-.29-.534c-.195-.356-.864-1.113-2.01-2.271C18.95 1.465 18.21.788 17.874.592c-.335-.196-.758-.312-1.269-.348-.51-.035-1.524.152-3.04.561ZM9.469 2.943c-.194.374-.467 1.23-.82 2.566-.352 1.336-.528 2.066-.528 2.19 0 .126.705.598 2.114 1.417 1.41.82 2.23 1.363 2.458 1.63.23.267.406.561.53.882.06.16.122.32.184.481l.317-.347c.212-.232.494-1.043.846-2.432.352-1.39.379-2.156.08-2.298-.3-.143-1.19-.953-2.67-2.432L9.76 2.382l-.291.561Zm10.017 3.661c-1.903.535-3.048.802-3.436.802-.387 0-.74.606-1.057 1.817l-.476 1.817.45-.187a3.03 3.03 0 0 1 1.03-.214c.388-.018 1.33.179 2.829.588 1.497.41 2.308.481 2.431.214.124-.267.361-1.069.714-2.405.352-1.336.537-2.173.555-2.512.018-.338.018-.543 0-.615-.018-.07-.053-.106-.106-.106s-1.03.267-2.934.801ZM5.98 8.127c-.265.09-.917.437-1.956 1.043-1.04.605-1.7.997-1.983 1.175a3.096 3.096 0 0 0-.66.535c-.159.178-.203.312-.133.4.071.09.855.57 2.353 1.444 1.498.873 2.37 1.345 2.617 1.416.246.071.537.089.872.053.335-.035 1.33-.534 2.987-1.496 1.656-.962 2.475-1.479 2.458-1.55-.018-.071-.097-.178-.238-.32-.141-.143-.81-.57-2.009-1.283-1.198-.713-1.991-1.15-2.379-1.31-.387-.16-.74-.24-1.057-.24-.317 0-.608.044-.872.133Zm9.462 2.94c-.194.053-.423.16-.687.32-.264.16-.925.775-1.982 1.844-1.057 1.07-1.657 1.72-1.798 1.951-.14.232-.211.383-.211.454 0 .072.88.348 2.643.829 1.762.48 2.784.721 3.066.721.282 0 .582-.071.899-.213.317-.143 1.136-.891 2.458-2.245l1.982-2.031-.528-.294c-.353-.196-1.19-.472-2.511-.828-1.322-.357-2.159-.544-2.511-.562-.353-.017-.626 0-.82.054Zm-14.67.828c-.07.214-.105 1.087-.105 2.619 0 1.532.062 2.459.185 2.78.123.32.317.614.582.881.264.267 1.004.757 2.22 1.47 1.216.712 1.93 1.113 2.14 1.202.212.09.406.143.582.16.088.01.176.018.265.027v-3.206c0-2.138-.168-3.252-.503-3.34-.334-.09-1.295-.598-2.88-1.524l-2.38-1.39-.105.321Zm9.807.962c-1.427.855-2.247 1.336-2.458 1.443-.212.107-.44.187-.687.24-.247.054-.37 1.15-.37 3.288v3.206c.158-.035.317-.07.475-.107.317-.07.934-.374 1.85-.908.917-.535 1.287-1.131 1.11-1.79-.176-.66-.273-1.132-.29-1.417a3.368 3.368 0 0 1 .026-.748c.036-.214.15-.508.344-.882.194-.374.652-.917 1.374-1.63.723-.713 1.058-1.202 1.005-1.47-.053-.267-.106-.418-.159-.454-.053-.036-.793.374-2.22 1.23Zm9.462 2.192c-1.321 1.354-2.105 2.093-2.352 2.217-.247.125-.097 1.22.45 3.287l.819 3.1.423-.214c.282-.142.978-.775 2.088-1.897 1.11-1.122 1.744-1.853 1.903-2.191.158-.339.247-.677.264-1.016.018-.338-.132-1.122-.45-2.351-.316-1.23-.528-1.978-.634-2.245-.105-.267-.22-.454-.343-.561-.123-.107-.846.517-2.168 1.87Zm-9.436 1.576c0 .339.159 1.114.476 2.325.317 1.211.52 1.924.608 2.138.088.213.238.445.45.694.21.25.466.455.766.615.3.16 1.136.428 2.51.802 1.375.374 2.248.561 2.618.561h.555l-.82-3.1c-.546-2.066-1.022-3.108-1.427-3.126-.405-.018-1.463-.259-3.172-.722l-2.564-.695v.508Z"/></g></g><path fill="#C70" d="M35.072 9.508c-.06-.558-.31-.993-.754-1.304-.439-.311-1.01-.467-1.713-.467-.494 0-.918.075-1.272.224-.353.15-.624.351-.812.607a1.476 1.476 0 0 0-.287.876c0 .273.061.51.185.71.128.2.3.37.518.51.217.137.458.252.722.346.264.094.53.172.8.236l1.226.307c.495.115.97.27 1.426.467.46.196.871.443 1.233.741.367.299.657.659.87 1.08.213.423.32.917.32 1.484 0 .767-.197 1.442-.589 2.026-.392.58-.958 1.033-1.7 1.361-.737.324-1.63.486-2.678.486-1.019 0-1.903-.157-2.653-.473-.746-.315-1.33-.775-1.751-1.38-.418-.606-.644-1.343-.678-2.212h2.333c.034.456.175.835.422 1.138.247.302.569.528.965.677.4.15.848.224 1.343.224.515 0 .967-.077 1.355-.23.392-.158.699-.375.92-.652.222-.281.335-.61.339-.985-.004-.34-.104-.622-.3-.843-.196-.226-.471-.414-.825-.563a7.943 7.943 0 0 0-1.227-.409l-1.49-.383c-1.078-.277-1.93-.697-2.556-1.26-.623-.566-.934-1.319-.934-2.256 0-.771.21-1.447.627-2.026.422-.58.995-1.03 1.72-1.35.724-.323 1.544-.485 2.46-.485.93 0 1.743.162 2.442.486.703.32 1.255.765 1.655 1.336.401.567.608 1.219.62 1.956h-2.282ZM39.675 19V5.91h8.386v1.987h-6.015v3.554h5.44v1.988h-5.44V19h-2.371Z"/><defs><clipPath id="a"><path fill="#fff" d="M.667 0h24v24h-24z"/></clipPath><clipPath id="b"><path fill="#fff" d="M.667 0h24v24h-24z"/></clipPath></defs></svg>
                                <?php endif; ?>
                                <?php if ($glutenFree): ?>
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 51 24" width="51" height="24" fill="none"><g clip-path="url(#a)"><g fill="#F2BA00" clip-path="url(#b)"><path d="M6.75 6.07a3.371 3.371 0 0 1-.361-1.48c-.01-.534.183-.825.582-.873a6.103 6.103 0 0 1 1.37.011c.516.056.942.136 1.278.242.335.106.621.234.857.386s.48.393.732.722c.253.33.426.663.52 1 .092.337.137.657.131.958-.005.302-.088.525-.25.67l-.242.218-.442-.285c-.295-.19-.63-.35-1.005-.481-.375-.131-.94-.232-1.693-.302-.754-.07-1.246-.332-1.477-.786ZM9.847 2.87c.127-.473.394-.952.8-1.439.406-.486.77-.847 1.092-1.083l.483-.354.412.266c.275.177.598.469.969.874.37.405.64.829.812 1.272.17.443.245.713.224.81-.022.097-.314.324-.877.682-.562.358-.987.75-1.272 1.175l-.429.638-.114-.281c-.076-.188-.231-.412-.465-.674-.233-.262-.597-.523-1.088-.785-.493-.262-.675-.63-.547-1.101Z"/><path d="M6.633 9.362a3.841 3.841 0 0 1-.304-1.401c-.01-.479.123-.753.402-.822.28-.07.658-.09 1.134-.06.476.03.922.097 1.338.198.415.102.74.215.977.34.236.124.51.356.822.696.312.34.524.685.638 1.035.113.35.166.703.16 1.06-.007.356-.09.593-.251.71-.162.119-.488.047-.98-.215a5.815 5.815 0 0 0-1.718-.568c-.654-.117-1.09-.162-1.31-.137-.218.025-.377.006-.475-.058-.098-.063-.243-.322-.433-.778ZM12.505 5.914c.146-.404.3-.72.463-.948.164-.227.426-.474.788-.74a4.796 4.796 0 0 1 1.204-.637c.44-.16 1.008-.278 1.705-.355.697-.078 1.074-.097 1.133-.06.06.039.064.36.013.965-.05.605-.168 1.084-.353 1.435-.185.352-.328.565-.429.639-.1.074-.42.145-.957.214-.538.07-.946.152-1.226.249-.28.096-.691.316-1.234.66l-.814.514-.264-.212c-.176-.142-.262-.363-.256-.665.005-.301.08-.654.227-1.059Z"/><path d="M6.601 12.834a3.728 3.728 0 0 1-.332-1.461c-.01-.506.014-.781.074-.825.06-.045.19-.072.39-.082.198-.01.645.014 1.339.074s1.18.137 1.456.232c.277.095.562.238.857.428.295.19.558.457.79.8.233.345.395.74.486 1.187.091.447.126.747.103.898-.022.152-.134.302-.335.45l-.302.22-.442-.326a3.532 3.532 0 0 0-.885-.488c-.296-.108-.85-.202-1.664-.283-.813-.081-1.325-.355-1.535-.824ZM12.446 9.244c.104-.293.289-.603.553-.932a4.05 4.05 0 0 1 .939-.85c.362-.238.682-.405.962-.502.28-.096.44-.132.48-.107.038.026.238-.012.597-.113.36-.1.738-.162 1.136-.182.397-.021.626-.012.685.026.059.038.064.304.015.8a4.965 4.965 0 0 1-.291 1.309c-.146.377-.29.645-.431.803a.684.684 0 0 1-.54.233c-.22-.002-.608.066-1.167.204-.559.139-.988.278-1.289.417-.3.139-.581.317-.844.537-.262.218-.432.33-.512.334-.08.004-.188-.052-.325-.168-.137-.116-.192-.373-.165-.772a3.88 3.88 0 0 1 .197-1.037Z"/><path d="M6.541 16.205a4.122 4.122 0 0 1-.361-1.439c-.032-.491-.017-.759.043-.803.06-.044.23-.074.509-.088.278-.015.715.004 1.31.055.595.051 1.06.13 1.396.235.336.106.642.248.917.425s.547.492.818.943c.27.452.432.833.486 1.145.054.313.06.58.016.8-.044.222-.136.384-.277.487l-.212.155-.412-.266a5.05 5.05 0 0 0-1.005-.482 6.005 6.005 0 0 0-1.246-.305A5.944 5.944 0 0 0 7.45 17c-.278.015-.447.003-.506-.035-.059-.038-.193-.291-.404-.76ZM12.447 12.53c.146-.35.33-.66.554-.932.223-.272.615-.56 1.177-.863.562-.303 1.28-.518 2.157-.646.877-.127 1.344-.172 1.403-.134.06.038.075.256.048.654-.027.399-.134.856-.322 1.373-.188.516-.343.832-.464.948-.121.116-.37.19-.749.224a6.758 6.758 0 0 0-1.316.274c-.5.149-1.01.387-1.533.716l-.783.492-.235-.193c-.157-.128-.222-.392-.195-.79.027-.399.113-.773.258-1.123Z"/><path d="M6.28 19.156c-.076-.133-.13-.445-.162-.937-.03-.49-.006-.766.075-.825.08-.059.28-.097.598-.113a9.186 9.186 0 0 1 1.22.039c.497.043.893.104 1.19.185.296.08.641.247 1.034.5.393.254.695.56.908.918.212.359.355.714.428 1.066.073.352.098.632.074.838a.67.67 0 0 1-.277.487c-.16.118-.41.193-.748.224-.339.031-.776.013-1.31-.055a4.322 4.322 0 0 1-1.453-.438 3.205 3.205 0 0 1-1.116-.969c-.31-.422-.445-.647-.405-.677.04-.03.022-.11-.055-.243ZM12.324 16.15c.147-.431.312-.768.495-1.01.183-.243.445-.49.788-.74.342-.25.673-.439.993-.565.32-.126.888-.245 1.705-.356.817-.11 1.264-.127 1.342-.049.078.078.093.351.045.82-.048.467-.165.918-.352 1.352-.186.434-.34.696-.46.784-.121.089-.4.158-.839.208-.438.05-.836.126-1.196.227-.36.1-.639.197-.84.29-.2.092-.461.27-.784.534-.322.263-.582.345-.779.245-.197-.099-.302-.306-.316-.62-.015-.314.051-.687.198-1.12Z"/><path d="M12.36 19.21c.164-.338.348-.622.55-.851.204-.23.556-.488 1.057-.774a5.724 5.724 0 0 1 1.561-.615 8.326 8.326 0 0 1 1.405-.217c.397-.02.625.015.683.108.058.093.074.325.047.696-.026.371-.163.837-.412 1.398-.248.56-.564.994-.947 1.302a4.882 4.882 0 0 1-1.204.72c-.42.172-.94.295-1.556.368-.618.073-1.015.066-1.192-.02-.178-.087-.283-.28-.318-.58-.034-.299-.021-.47.039-.515.06-.044.082-.141.065-.29-.017-.15.056-.394.221-.73ZM11.352 23.923c-.058-.065-.081-.44-.07-1.126.013-.685.11-1.08.29-1.185.18-.105.35-.121.507-.047.158.074.23.467.218 1.18-.013.712-.06 1.098-.14 1.157-.08.059-.22.093-.419.104-.199.01-.327-.017-.386-.083Z"/></g></g><path fill="#F2BA00" d="M36.061 10.09a3.389 3.389 0 0 0-.441-.927 2.851 2.851 0 0 0-.665-.71 2.681 2.681 0 0 0-.882-.44 3.68 3.68 0 0 0-1.087-.154c-.703 0-1.329.177-1.879.53-.55.354-.982.874-1.297 1.56-.311.682-.467 1.513-.467 2.493 0 .988.156 1.826.467 2.512.31.686.743 1.208 1.297 1.566.554.354 1.198.53 1.93.53.665 0 1.24-.127 1.727-.383.49-.256.867-.618 1.13-1.087.265-.473.397-1.027.397-1.662l.537.083h-3.554v-1.853h5.312v1.572c0 1.12-.239 2.09-.716 2.909a4.891 4.891 0 0 1-1.969 1.892c-.835.438-1.794.658-2.876.658-1.206 0-2.265-.27-3.177-.812-.908-.545-1.617-1.319-2.128-2.32-.508-1.006-.761-2.199-.761-3.58 0-1.056.149-2 .447-2.831.303-.831.725-1.537 1.266-2.116a5.386 5.386 0 0 1 1.905-1.33 6.065 6.065 0 0 1 2.378-.46c.724 0 1.4.107 2.026.32a5.369 5.369 0 0 1 1.668.895c.49.387.893.848 1.208 1.38.316.533.522 1.121.62 1.764h-2.416ZM40.906 19V5.91h8.386v1.987h-6.014v3.554h5.44v1.988h-5.44V19h-2.372Z"/><defs><clipPath id="a"><path fill="#fff" d="M0 0h24v24H0z"/></clipPath><clipPath id="b"><path fill="#fff" d="M0 0h24v24H0z"/></clipPath></defs></svg>
                                <?php endif; ?>
                            </div>

                            <!-- get Sku -->
                            <div class="hidden-sku" data-sku="<?= $_item->getSku() ?>"><?= $_item->getSku() ?></div>

                            <div class="product-item-details">
                                <strong class="product-item-name">
                                    <a title="<?= $block->escapeHtml($_item->getName()) ?>"
                                       href="<?= $block->escapeUrl($block->getProductUrl($_item)) ?>"
                                       class="product-item-link">
                                        <?= $block->escapeHtml($_item->getName()) ?>
                                    </a>
                                </strong>

                                <?php if ($templateType): ?>
                                    <?= $block->getReviewsSummaryHtml($_item, $templateType) ?>
                                <?php endif; ?>

                                <?php if ($manufacturer = $_item->getAttributeText('manufacturer')): ?>
                                    <div class="category-link">
                                        <a href="<?= $escaper->escapeUrl(__('/catalogsearch/result/?q=%1', $manufacturer)) ?>" class="category-link__href">
                                            <span><?= /* @noEscape */ $manufacturer ?></span>
                                        </a>
                                    </div>
                                <?php endif; ?>

                                <div class="fin-block">

                                    <div class="price-here">
                                        <?= $block->getProductPriceHtml($_item, $type) ?>
                                        <span class="price-here__weight">/<span><?= (float)$_item->getData("singleweight") * 1000; ?><?= $escaper->escapeHtml(__('gr')) ?></span></span>
                                    </div>

                                    <?php if ($showWishlist || $showCompare || $showCart): ?>
                                        <div class="product-item-actions">
                                            <?php if ($_item->isSaleable()): ?>
                                                <?php $postParams = $block->getAddToCartPostParams($_item); ?>
                                                <form data-role="tocart-form" data-product-sku="<?= $escaper->escapeHtml($_item->getSku()) ?>" action="<?= $escaper->escapeUrl($postParams['action']) ?>" method="post">
                                                    <input type="hidden" name="product" value="<?= $escaper->escapeHtmlAttr($postParams['data']['product']) ?>">
                                                    <input type="hidden" name="<?= /* @noEscape */ Action::PARAM_NAME_URL_ENCODED ?>" value="<?= /* @noEscape */ $postParams['data'][Action::PARAM_NAME_URL_ENCODED] ?>">
                                                    <?= $block->getBlockHtml('formkey') ?>
                                                    <div class="calc-cell-container">
                                                        <div class="calc-cell calculator">
                                                            <div class="custom-qty-btn btn-minus"><span>-</span></div>
                                                            <input 
                                                                data-mage-init='{
                                                                    "custom.plusMinus":{
                                                                        "buttons": false, 
                                                                        "limit": 1000, 
                                                                        "productId" : "<?php echo $_item->getId(); ?>",
                                                                        "updateQtyUrl" : "<?php echo $block->getUrl("checkout/sidebar/updateItemQty"); ?>",
                                                                        "removeItemUrl" : "<?php echo $block->getUrl("checkout/sidebar/removeItem"); ?>"
                                                                    }}' 
                                                                type="number" 
                                                                name="qty"
                                                                min="1" 
                                                                value="1" class="product-quantity input-text qty custom">
                                                            <div class="custom-qty-btn btn-plus"><span>+</span></div>
                                                        </div>
                                                        <div class="add-to-calc calc-cell">
                                                            <button type="submit"
                                                                    title="<?= $escaper->escapeHtmlAttr(__('Add to Cart')) ?>"
                                                                    class="action tocart primary add-to-calc__button" 
                                                                    disabled>
                                                                <span><?= $escaper->escapeHtml(__('Add to Cart')) ?></span>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </form>
                                            <?php else: ?>
                                                <?php if ($_item->isAvailable()): ?>
                                                    <div class="stock available"><span><?= $escaper->escapeHtml(__('In stock')) ?></span></div>
                                                <?php else: ?>
                                                    <div class="stock unavailable"><span><?= $escaper->escapeHtml(__('Out of stock')) ?></span></div>
                                                <?php endif; ?>
                                            <?php endif; ?>
                                        </div>
                                    <?php endif; ?>

                                </div>
                            </div>
                        </div>
                        <?= ($iterator == count($items) + 1) ? '</li>' : '' ?>
                    <?php endforeach ?>
                </ol>
            </div>
        </div>
    </div>

<?php endif; ?>